<div ng-controller="view-archive">
			
	<div class="info-panel">
		<div class="row">
			<div class="col-md-6 col-lg-4">
				<div class="mb-3">
					<label for="cpr-search" class="form-label">
						<i class="bi bi-person-vcard"></i>
						الرقم الشخصي
					</label>
					<div class="input-group">
						<span class="input-group-text">
							<i class="bi bi-card-text"></i>
						</span>
						<input id="cpr-search" ng-model="search.cpr" type="tel" class="form-control is-valid" placeholder="الرقم الشخصي" maxlength="9" autocomplete="off" ng-change="searchStudents()">
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-4">
				<div class="mb-3">
					<label for="name-search" class="form-label">
						<i class="bi bi-person"></i>
						اسم الطالب
					</label>
					<div class="input-group">
						<span class="input-group-text">
							<i class="bi bi-person-fill"></i>
						</span>
						<input id="name-search" ng-model="search.name" type="text" class="form-control is-valid" placeholder="اسم الطالب" maxlength="50" autocomplete="off" ng-change="searchStudents()">
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-4">
				<div class="mb-3">
					<label for="mobile-search" class="form-label">
						<i class="bi bi-telephone"></i>
						رقم الهاتف
					</label>
					<div class="input-group">
						<span class="input-group-text">
							<i class="bi bi-phone"></i>
						</span>
						<input id="mobile-search" ng-model="search.mobile" type="tel" class="form-control is-valid" placeholder="رقم الهاتف" maxlength="8" autocomplete="off" ng-change="searchStudents()">
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-4">
				<div class="mb-3">
					<label for="grade-search" class="form-label">
						<i class="bi bi-mortarboard"></i>
						الصف
					</label>
					<div class="input-group">
						<span class="input-group-text">
							<i class="bi bi-bookmark-star"></i>
						</span>
						<select id="grade-search" ng-model="search.grade" class="form-select is-valid" placeholder="الصف" ng-options="grade.id as grade.name for grade in grades" ng-change="searchStudents()">
							<option selected="selected" value="">الصف</option>
						</select>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-4">
				<div class="mb-3">
					<label for="level-search" class="form-label">
						<i class="bi bi-bar-chart-steps"></i>
						{{labels.level}}
					</label>
					<div class="input-group">
						<span class="input-group-text">
							<i class="bi bi-graph-up"></i>
						</span>
						<select id="level-search" ng-model="search.level" class="form-select is-valid" placeholder="{{labels.level}}" ng-options="level.id as level.name for level in levels" ng-change="searchStudents()">
							<option selected="selected" value="">{{labels.level}}</option>
						</select>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-4">
				<div class="mb-3">
					<label for="register-search" class="form-label">
						<i class="bi bi-credit-card"></i>
						حالة التسجيل
					</label>
					<div class="input-group">
						<span class="input-group-text">
							<i class="bi bi-currency-dollar"></i>
						</span>
						<select id="register-search" ng-model="search.register" class="form-select is-valid" placeholder="حالة التسجيل" ng-change="searchStudents()">
							<option selected="selected" value="">حالة التسجيل</option>
							<option value="">حالة التسجيل</option>
							<option ng-value="true">تم التسجيل</option>
							<option ng-value="false">لم يسجل</option>
						</select>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="table-responsive mt-3">
		<table id="students" class="table table-striped">
			<thead>
				<tr>
					<th>
						<i class="bi bi-hash"></i>
						#
					</th>
					<th>
						<i class="bi bi-person-vcard"></i>
						الرقم الشخصي
					</th>
					<th>
						<i class="bi bi-person-fill"></i>
						الاسم
					</th>
					<th>
						<i class="bi bi-mortarboard"></i>
						الصف
					</th>
					<th>
						<i class="bi bi-phone"></i>
						{{labels.mobile}}
					</th>
					<th>
						<i class="bi bi-telephone"></i>
						{{labels.phone}}
					</th>
					<th ng-show="config.fields.contact">
						<i class="bi bi-person-lines-fill"></i>
						{{labels.contact}}
					</th>
					<th ng-show="config.fields.health">
						<i class="bi bi-heart-pulse"></i>
						الحالة الصحية
					</th>
					<th ng-show="config.fields.city">
						<i class="bi bi-geo-alt"></i>
						منطقة السكن
					</th>
					<th ng-show="config.fields.block">
						<i class="bi bi-building"></i>
						رقم المجمع
					</th>
					<th ng-show="config.fields.dateOfBirth">
						<i class="bi bi-calendar-date"></i>
						تاريخ الميلاد
					</th>
					<th ng-show="config.fields.mother">
						<i class="bi bi-person-heart"></i>
						اسم الأم
					</th>
					<th>
						<i class="bi bi-person-add"></i>
						حالة التسجيل
					</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="student in studentsSearch | orderBy : 'id' track by $index" ng-hide="loading">
					<td>
						<span class="counter-badge counter-badge-sm">
							{{$index + 1}}
						</span>
					</td>
					<td>
						{{student.cpr}}
					</td>
					<td>
						{{student.name}}
					</td>
					<td>
						{{grades[student.grade].name}}
					</td>
					<td>
						{{student.mobile}}
						<a class="badge text-bg-success" ng-href="https://wa.me/973{{student.mobile}}" role="buttton">
							<i class="bi bi-whatsapp m-0"></i>
						</a>
						<a class="badge text-bg-danger" ng-href="tel:{{student.mobile}}" role="buttton">
							<i class="bi bi-telephone m-0"></i>
						</a>
					</td>
					<td>
						{{student.phone}}
						<a class="badge text-bg-success" ng-href="https://wa.me/973{{student.phone}}" role="buttton">
							<i class="bi bi-whatsapp m-0"></i>
						</a>
						<a class="badge text-bg-danger" ng-href="tel:{{student.phone}}" role="buttton">
							<i class="bi bi-telephone m-0"></i>
						</a>
					</td>
					<td ng-show="config.fields.contact">
						{{student.contact}}
						<a class="badge text-bg-success" ng-href="https://wa.me/973{{student.contact}}" role="buttton">
							<i class="bi bi-whatsapp m-0"></i>
						</a>
						<a class="badge text-bg-danger" ng-href="tel:{{student.contact}}" role="buttton">
							<i class="bi bi-telephone m-0"></i>
						</a>
					</td>
					<td ng-show="config.fields.health">
						{{student.health}}
					</td>
					<td ng-show="config.fields.city">
						{{student.city}}
					</td>
					<td ng-show="config.fields.block">
						{{student.block}}
					</td>
					<td ng-show="config.fields.dateOfBirth">
						{{student.dateOfBirth}}
					</td>
					<td ng-show="config.fields.mother">
						{{student.mother}}
					</td>
					<td>
						<div class="status-badge" 
							 ng-class="{
								'status-badge-warning': !student.register,
								'status-badge-completed': student.register}">
							<i class="bi" ng-class="{
								'bi-x-circle-fill': !student.register,
								'bi-check-circle-fill': student.register}"></i>
							{{student.register ? 'تم التسجيل' : 'لم يسجل'}}
						</div>
					</td>
				</tr>
				<tr ng-show="loading">
					<td class="text-center" colspan="13">
						<div class="spinner-border" role="status">
							<span class="visually-hidden"></span>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

</div>